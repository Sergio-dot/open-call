{{template "partials/header" .}}

<!-- CSS -->
<style>
    body {
        background: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' version='1.1' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:svgjs='http://svgjs.com/svgjs' width='1440' height='560' preserveAspectRatio='none' viewBox='0 0 1440 560'%3e%3cg mask='url(%26quot%3b%23SvgjsMask1000%26quot%3b)' fill='none'%3e%3crect width='1440' height='560' x='0' y='0' fill='%230e2a47'%3e%3c/rect%3e%3cpath d='M195.17 100.08L260.13 137.58L260.13 212.58L195.17 250.08L130.22 212.58L130.22 137.58zM130.22 212.58L195.17 250.08L195.17 325.08L130.22 362.58L65.26 325.08L65.26 250.08zM454.99 325.08L519.94 362.58L519.94 437.58L454.99 475.08L390.03 437.58L390.03 362.58zM519.94 212.58L584.89 250.08L584.89 325.08L519.94 362.58L454.99 325.08L454.99 250.08zM584.89 550.08L649.85 587.58L649.85 662.58L584.89 700.08L519.94 662.58L519.94 587.58zM649.85 212.58L714.8 250.08L714.8 325.08L649.85 362.58L584.89 325.08L584.89 250.08zM844.71 550.08L909.66 587.58L909.66 662.58L844.71 700.08L779.75 662.58L779.75 587.58zM974.62 100.08L1039.57 137.58L1039.57 212.58L974.62 250.08L909.66 212.58L909.66 137.58zM909.66 212.58L974.62 250.08L974.62 325.08L909.66 362.58L844.71 325.08L844.71 250.08zM909.66 437.58L974.62 475.08L974.62 550.08L909.66 587.58L844.71 550.08L844.71 475.08zM974.62 550.08L1039.57 587.58L1039.57 662.58L974.62 700.08L909.66 662.58L909.66 587.58zM1104.52 325.08L1169.48 362.58L1169.48 437.58L1104.52 475.08L1039.57 437.58L1039.57 362.58zM1364.34 100.08L1429.29 137.58L1429.29 212.58L1364.34 250.08L1299.38 212.58L1299.38 137.58zM1299.38 212.58L1364.34 250.08L1364.34 325.08L1299.38 362.58L1234.43 325.08L1234.43 250.08zM1364.34 325.08L1429.29 362.58L1429.29 437.58L1364.34 475.08L1299.38 437.58L1299.38 362.58zM1429.29 212.58L1494.25 250.08L1494.25 325.08L1429.29 362.58L1364.34 325.08L1364.34 250.08zM1429.29 437.58L1494.25 475.08L1494.25 550.08L1429.29 587.58L1364.34 550.08L1364.34 475.08z' stroke='%2303305d' stroke-width='2'%3e%3c/path%3e%3cpath d='M187.67 100.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM252.63 137.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM252.63 212.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM187.67 250.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM122.72 212.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM122.72 137.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM187.67 325.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM122.72 362.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM57.76 325.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM57.76 250.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM447.49 325.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM512.44 362.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM512.44 437.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM447.49 475.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM382.53 437.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM382.53 362.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM512.44 212.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM577.39 250.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM577.39 325.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM447.49 250.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM577.39 550.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM642.35 587.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM642.35 662.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM577.39 700.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM512.44 662.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM512.44 587.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM642.35 212.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM707.3 250.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM707.3 325.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM642.35 362.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM837.21 550.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM902.16 587.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM902.16 662.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM837.21 700.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM772.25 662.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM772.25 587.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM967.12 100.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1032.07 137.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1032.07 212.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM967.12 250.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM902.16 212.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM902.16 137.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM967.12 325.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM902.16 362.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM837.21 325.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM837.21 250.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM902.16 437.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM967.12 475.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM967.12 550.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM837.21 475.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1032.07 587.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1032.07 662.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM967.12 700.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1097.02 325.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1161.98 362.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1161.98 437.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1097.02 475.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1032.07 437.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1032.07 362.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1356.84 100.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1421.79 137.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1421.79 212.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1356.84 250.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1291.88 212.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1291.88 137.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1356.84 325.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1291.88 362.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1226.93 325.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1226.93 250.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1421.79 362.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1421.79 437.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1356.84 475.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1291.88 437.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1486.75 250.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1486.75 325.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1486.75 475.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1486.75 550.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1421.79 587.58 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0zM1356.84 550.08 a7.5 7.5 0 1 0 15 0 a7.5 7.5 0 1 0 -15 0z' fill='%2303305d'%3e%3c/path%3e%3cpath d='M46.45 -37.33L89.75 -12.33L89.75 37.67L46.45 62.67L3.15 37.67L3.15 -12.33zM89.75 337.67L133.06 362.67L133.06 412.67L89.75 437.67L46.45 412.67L46.45 362.67zM46.45 412.67L89.75 437.67L89.75 487.67L46.45 512.67L3.15 487.67L3.15 437.67zM133.06 262.67L176.36 287.67L176.36 337.67L133.06 362.67L89.75 337.67L89.75 287.67zM219.66 -37.33L262.96 -12.33L262.96 37.67L219.66 62.67L176.36 37.67L176.36 -12.33zM219.66 262.67L262.96 287.67L262.96 337.67L219.66 362.67L176.36 337.67L176.36 287.67zM262.96 487.67L306.26 512.67L306.26 562.67L262.96 587.67L219.66 562.67L219.66 512.67zM349.57 187.67L392.87 212.67L392.87 262.67L349.57 287.67L306.26 262.67L306.26 212.67zM306.26 262.67L349.57 287.67L349.57 337.67L306.26 362.67L262.96 337.67L262.96 287.67zM349.57 487.67L392.87 512.67L392.87 562.67L349.57 587.67L306.26 562.67L306.26 512.67zM436.17 37.67L479.48 62.67L479.48 112.67L436.17 137.67L392.87 112.67L392.87 62.67zM522.78 187.67L566.08 212.67L566.08 262.67L522.78 287.67L479.48 262.67L479.48 212.67zM479.48 412.67L522.78 437.67L522.78 487.67L479.48 512.67L436.17 487.67L436.17 437.67zM566.08 412.67L609.38 437.67L609.38 487.67L566.08 512.67L522.78 487.67L522.78 437.67zM652.69 -37.33L695.99 -12.33L695.99 37.67L652.69 62.67L609.38 37.67L609.38 -12.33zM695.99 337.67L739.29 362.67L739.29 412.67L695.99 437.67L652.69 412.67L652.69 362.67zM869.2 187.67L912.5 212.67L912.5 262.67L869.2 287.67L825.9 262.67L825.9 212.67zM869.2 337.67L912.5 362.67L912.5 412.67L869.2 437.67L825.9 412.67L825.9 362.67zM825.9 412.67L869.2 437.67L869.2 487.67L825.9 512.67L782.59 487.67L782.59 437.67zM955.8 37.67L999.11 62.67L999.11 112.67L955.8 137.67L912.5 112.67L912.5 62.67zM912.5 412.67L955.8 437.67L955.8 487.67L912.5 512.67L869.2 487.67L869.2 437.67zM1042.41 187.67L1085.71 212.67L1085.71 262.67L1042.41 287.67L999.11 262.67L999.11 212.67zM1042.41 337.67L1085.71 362.67L1085.71 412.67L1042.41 437.67L999.11 412.67L999.11 362.67zM1129.01 187.67L1172.32 212.67L1172.32 262.67L1129.01 287.67L1085.71 262.67L1085.71 212.67zM1085.71 262.67L1129.01 287.67L1129.01 337.67L1085.71 362.67L1042.41 337.67L1042.41 287.67zM1085.71 412.67L1129.01 437.67L1129.01 487.67L1085.71 512.67L1042.41 487.67L1042.41 437.67zM1172.32 -37.33L1215.62 -12.33L1215.62 37.67L1172.32 62.67L1129.01 37.67L1129.01 -12.33zM1215.62 187.67L1258.92 212.67L1258.92 262.67L1215.62 287.67L1172.32 262.67L1172.32 212.67zM1172.32 262.67L1215.62 287.67L1215.62 337.67L1172.32 362.67L1129.01 337.67L1129.01 287.67zM1172.32 412.67L1215.62 437.67L1215.62 487.67L1172.32 512.67L1129.01 487.67L1129.01 437.67zM1215.62 487.67L1258.92 512.67L1258.92 562.67L1215.62 587.67L1172.32 562.67L1172.32 512.67zM1302.22 37.67L1345.53 62.67L1345.53 112.67L1302.22 137.67L1258.92 112.67L1258.92 62.67zM1302.22 337.67L1345.53 362.67L1345.53 412.67L1302.22 437.67L1258.92 412.67L1258.92 362.67zM1345.53 -37.33L1388.83 -12.33L1388.83 37.67L1345.53 62.67L1302.22 37.67L1302.22 -12.33zM1388.83 37.67L1432.13 62.67L1432.13 112.67L1388.83 137.67L1345.53 112.67L1345.53 62.67zM1388.83 337.67L1432.13 362.67L1432.13 412.67L1388.83 437.67L1345.53 412.67L1345.53 362.67zM1345.53 412.67L1388.83 437.67L1388.83 487.67L1345.53 512.67L1302.22 487.67L1302.22 437.67zM1432.13 112.67L1475.43 137.67L1475.43 187.67L1432.13 212.67L1388.83 187.67L1388.83 137.67zM1475.43 337.67L1518.74 362.67L1518.74 412.67L1475.43 437.67L1432.13 412.67L1432.13 362.67zM1432.13 412.67L1475.43 437.67L1475.43 487.67L1432.13 512.67L1388.83 487.67L1388.83 437.67zM1475.43 487.67L1518.74 512.67L1518.74 562.67L1475.43 587.67L1432.13 562.67L1432.13 512.67z' stroke='rgba(6%2c 80%2c 156%2c 0.93)' stroke-width='2'%3e%3c/path%3e%3c/g%3e%3cdefs%3e%3cmask id='SvgjsMask1000'%3e%3crect width='1440' height='560' fill='white'%3e%3c/rect%3e%3c/mask%3e%3c/defs%3e%3c/svg%3e") no-repeat center center fixed;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
        font-family: 'Roboto', sans-serif;
    }

    .fa-users {
        font-size: 18px;
    }

    .border-count {
        border-right: 1px solid #ffffff;
        height: 2em;
        width: 1px;
    }

    #viewer-count {
        font-size: 18px;
        font-weight: bold;
    }

    .video-area {
        display: block;
        margin: 0 auto;
        max-width: 100%;
        border-radius: 50px;
        background: #074D96;
        box-shadow: 20px 20px 60px #064180,
        -20px -20px 60px #0859ad;
    }
</style>
<!-- CSS -->

<!-- HTML -->
<div class="container-fluid row">
    <div class="container-fluid col-6">

        <div class="viewer d-flex align-items-center mt-3 mb-3 p-2 rounded-2 text-white">
            <i class="fa fa-users p-2"></i>
            <span class="border-count"></span>
            <p id="viewer-count" class="ms-2 me-1 mt-3">0</p>
        </div>

        {{ if .NoStream }}
        <div class="alert alert-danger w-50 mt-3 ms-3" role="alert">
            There is no stream for the given Stream Link. <br>
            Please join another stream room.
        </div>
        {{ else }}

        <div id="peers">
            <div id="videos">
                <div id="noonestream">
                    <div class="alert alert-info w-50" role="alert">
                        Hey! <br>
                        No streamer in the room. <br>
                        Please wait for the streamer.
                    </div>
                </div>
                <div id="nocon" class="column notif">
                    <div class="alert alert-danger w-50" role="alert">
                        Connection is closed! <br>
                        Please refresh the page.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid col-6">
        {{ template "partials/chat" . }}
    </div>

</div>
<!-- HTML -->

<!-- JS -->
<script>
    let StreamWebsocketAddr = "{{.StreamWebsocketAddr}}"
    let ChatWebsocketAddr = "{{.ChatWebsocketAddr}}"
    let ViewerWebsocketAddr = "{{.ViewerWebsocketAddr}}"
</script>
<script src="/javascript/stream.js"></script>
<script src="/javascript/chat.js"></script>
<script src="/javascript/viewer.js"></script>
{{ end }}
<!-- JS -->
